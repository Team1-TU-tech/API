<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Info</title>
</head>
<body>
    <h2>User Information</h2>
    <p>ID: {{ user_info.id }}</p>
    <p>Email: {{ user_info.kakao_account.email }}</p>
    <!-- "Back to Home" 링크에 대한 활동 추적 -->
    <a href="/" onclick="trackActivity('back to home', 'home_button')">Back to Home</a>

    <script>
        // 사용자 활동을 백엔드로 전송하는 함수
        function trackActivity(activityType, buttonID) {
            fetch('/track-activity', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    activity: activityType,  // 'login' 또는 'logout' 활동
                    button_id: buttonID,  // 버튼 ID 전달
                    timestamp: new Date().toISOString()
                })
            })
            .then(response => response.json())
            .then(data => console.log('Activity tracked:', data))
            .catch(error => console.error('Error:', error));
        }

    </script>
</body>
</html>
